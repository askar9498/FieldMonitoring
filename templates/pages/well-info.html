<div class="container-fluid mt-4">
    <div class="row">
        <!-- Well Overview Card -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-lg border-1">
                
                <div class="card-header bg-gradient-primary text-black">
                    <h5 class="mb-0">Well Overview</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <button class="btn btn-secondary btn-sm"

                        hx-get="{% url 'well_list'  %}" hx-swap="innerHTML" hx-target="#tab-content"
                        hx-trigger="click"
                        
                        >
                            back
                        </button>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6"><strong>Well Name:</strong> <span class="text-primary">{{ well.name }}</span></div>
                        <div class="col-md-6"><strong>Field:</strong> {{ field.name }}</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6"><strong>Country:</strong> {{ country.name }}</div>
                        <div class="col-md-6"><strong>Operator:</strong> {{ company.name }}</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6"><strong>City:</strong> {{ city.name }}</div>
                        <div class="col-md-6"><strong>Well Type:</strong> {{ well.get_well_type_display }}</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6"><strong>Current Status:</strong> {{ well.get_current_status_display }}</div>
                        <div class="col-md-6"><strong>Status Date:</strong> {{ well.current_status_date }}</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6"><strong>Latitude:</strong> {{ well.lat }}</div>
                        <div class="col-md-6"><strong>Longitude:</strong> {{ well.lon }}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Well Location Map -->
        <div class="card mb-4 shadow-lg border-0">
            <div class="card-header bg-gradient-info text-black">
                <h5 class="mb-0">Well Location</h5>
            </div>
            <div class="card-body p-0">
                <div id="kt_modal_select_location_map"
                     class="w-auto mx-10 mb-10 rounded leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom"
                     style="height:450px"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // Initialize the map at the well's location
    var map = L.map('kt_modal_select_location_map').setView([{{ well.lat }}, {{ well.lon }}], 10);

    // Add OpenStreetMap layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Add marker for well location
    L.marker([{{ well.lat }}, {{ well.lon }}]).addTo(map)
        .bindPopup("{{ well.name }} ({{ well.get_well_type_display }})")
        .openPopup();
</script>
